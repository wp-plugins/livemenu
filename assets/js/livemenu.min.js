!function(e){var i={logo_type:"no-logo",logo_src:"",responsive:"off",responsive_breakpoint:959,sticky:"off",jquery_trigger:"hover",jquery_animation:"none",jquery_time:350,debug:!1,click_outside:!0},n=function(n,s){this.livemenu=n,this.config=e.extend({},i,s),this.click_outside_started=!1,this.touch_device="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this.touch_start=window.navigator.pointerEnabled?"pointerdown":window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",this.touch_device||(this.touch_start="click"),this.remove_menu_border(),this.remove_arrow_from_search(),this.handle_wpml(),this.rtl_support=this.livemenu.is(".livemenu-rtl"),this.handle_rtl(),this.init(),this.window_resize(),this.handle_sticky(),this.handle_lazy_load()};n.prototype={init:function(){var i=this;i.log(this.touch_device?"Touch Device":"Standard Device"),i.clean(),i.responsive="on"==i.config.responsive&&e(window).width()<=i.config.responsive_breakpoint,i.responsive&&!i.livemenu.is(".livemenu-responsive")?(i.log("Livemenu Responsive"),i.responsive_build(),i.responsive_toggle(),i.responsive_links_listener()):(i.log("Livemenu Horizontal"),i.livemenu.addClass("livemenu-horizontal"),i.mega_posts_set_size(),i.handle_trigger())},log:function(e){return"undefined"==typeof window.console||this.config.debug===!1?!1:void console.log(e)},clean:function(){var e=this;e.log("Cleaning Started"),e.livemenu.children(".livemenu").hide(),e.livemenu.removeClass("livemenu-horizontal livemenu-sticky livemenu-responsive"),e.livemenu.find(".lm-item.lm-has-submenu, .lm-item-dropdowns .lm-sub-item.lm-has-submenu, .lm-posts-categories li, .lm-posts-categories li a, .lm-item.lm-has-submenu > a, .lm-item-dropdowns .lm-sub-item.lm-has-submenu > a").unbind().off(),e.livemenu.find(".livemenu-responsive-controls > .era-icon").unbind().off(),e.livemenu.find(".lm-responsive-links-arrow").unbind().off(),e.livemenu.find(".lm-has-submenu.lm-submenu-active").removeClass("lm-submenu-active").find(".lm-sub").hide(),e.livemenu.find(".lm-item-posts > .lm-sub > li").removeClass("lm-col lm-col-80 lm-col-75 lm-col-66").removeAttr("style").parent().find(".lm-posts-categories > li.lm-submenu-active").removeClass("lm-submenu-active").parent().find("li:first").addClass("lm-submenu-active"),e.livemenu.find(".lm-responsive-links-arrow").removeClass("lm-arrow-up").addClass("lm-arrow-down"),e.livemenu.children(".livemenu").show()},remove_menu_border:function(){var i=this;i.livemenu.outerWidth()>e(window).width()&&"1px"==i.livemenu.css("border-left-width")&&i.livemenu.css({"border-left-width":"0px","border-right-width":"0px"})},remove_arrow_from_search:function(){var e=this;e.livemenu.find(".lm-item.lm-item-disable-text > a .era-icon-magnifying-glass").addClass("lm-remove-arrow-from-search")},window_resize:function(){var i,n=this;e(window).resize(function(){n.log("Window resize"),clearTimeout(i),i=setTimeout(function(){n.responsive="on"==n.config.responsive&&e(window).width()<=n.config.responsive_breakpoint,n.responsive&&!n.livemenu.is(".livemenu-responsive")&&n.init(),!n.responsive&&n.livemenu.is(".livemenu-responsive")&&n.init()},150)})},mega_posts_set_size:function(){var i=this;e(".lm-item-posts",i.livemenu).each(function(){var i=e(this),n=i.find(".lm-posts-categories").attr("class").split(" ")[2];i.find("> .lm-sub > li").addClass("lm-col-20"==n?"lm-col lm-col-80":"lm-col-25"==n?"lm-col lm-col-75":"lm-col lm-col-66")})},handle_lazy_load:function(){setTimeout(function(){e(".lm-lazy-load").each(function(){var i=e(this);i.attr("src",i.data("src"))})},290)},handle_wpml:function(){var e=this,i=e.livemenu.find(".menu-item-language");i.attr("class","lm-item lm-item-depth-0 lm-has-submenu lm-item-dropdowns lm-item-wpml lm-item-position-right"),i.find("ul").attr("class","lm-sub"),i.find("li").attr("class","lm-sub-item lm-item-depth-1"),i.find("a").wrapInner('<div class="era-icon"><span class="lm-item-title"></span></div>'),i.find("> a .era-icon").addClass("lm-arrow-down").append('<span class="lm-responsive-links-arrow era-icon lm-arrow-down"></span>')},handle_rtl:function(){var e=this;e.rtl_support&&e.livemenu.find(".lm-arrow-right").removeClass("lm-arrow-right").addClass("lm-arrow-left")},handle_sticky:function(){var i=this;if("on"==i.config.sticky){var n=i.livemenu.length?i.livemenu.offset().top:0;e(window).on("scroll",function(){e(window).scrollTop()>n&&e(window).width()>i.config.responsive_breakpoint?(i.livemenu.addClass("livemenu-sticky"),i.livemenu.prev().is(".livemenu-sticky-holder")||i.livemenu.before('<div class="livemenu-sticky-holder" style="height:'+i.livemenu.css("height")+';width:100%;background:transparent !important;border:none !important;"></div>')):(i.livemenu.removeClass("livemenu-sticky"),i.livemenu.prev(".livemenu-sticky-holder").remove())})}},handle_trigger:function(){this.touch_device||"click"==this.config.jquery_trigger?(this.log("Click Listener Started"),this.click_listener(),this.click_outside_started||(this.click_outside_started=!0,this.click_outside_listener())):(this.log("Hover Listener Started"),this.hover_listener())},hover_listener:function(){var i,n=this;e(".lm-item.lm-has-submenu, .lm-item-dropdowns .lm-sub-item.lm-has-submenu",n.livemenu).on("mouseenter",function(){var s=e(this),t=s.find("> .lm-sub");i=setTimeout(function(){n.handle_animation({target:t,animation:n.config.jquery_animation,speed:n.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.addClass("lm-submenu-active")},reverse:!1})},150)}),e(".lm-item.lm-has-submenu, .lm-item-dropdowns .lm-sub-item.lm-has-submenu",n.livemenu).on("mouseleave",function(){var s=e(this),t=s.find("> .lm-sub");clearTimeout(i),n.handle_animation({target:t,animation:n.config.jquery_animation,speed:n.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.removeClass("lm-submenu-active")},reverse:!0})}),e(".lm-posts-categories li",n.livemenu).on("mouseenter",function(i){var n=e(this),s=n.data("number"),t=n.parents(".lm-sub").find("> li:eq("+s+")");n.is(".lm-submenu-active")||(i.preventDefault(),i.stopPropagation(),n.parent().find(".lm-submenu-active").removeClass("lm-submenu-active"),n.addClass("lm-submenu-active"),t.parents(".lm-sub").find("> li").stop(!0,!0).css("display","none"),t.stop(!0,!0).css("display","inline-block"))})},click_listener:function(){var i=this;e(".lm-item.lm-has-submenu > a, .lm-item-dropdowns .lm-sub-item.lm-has-submenu > a",i.livemenu).on(i.touch_start,function(n){n.preventDefault(),n.stopPropagation();var s=e(this).parent(),t=s.find("> .lm-sub"),a=i.handle_link(s,n,i);a&&(i.handle_animation({target:t,animation:i.config.jquery_animation,speed:i.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.addClass("lm-submenu-active")},reverse:!1}),s.siblings().each(function(){var n=e(this),s=n.find("> .lm-sub");n.is(".lm-submenu-active")&&i.handle_animation({target:s,animation:i.config.jquery_animation,speed:200,callback:function(){var i=e(this),n=i.parent();n.removeClass("lm-submenu-active"),i.parents(".lm-item-dropdowns").length&&i.find(".lm-sub").each(function(){e(this).hide(),e(this).parent().removeClass("lm-submenu-active")})},reverse:!0})}))}),e(".lm-posts-categories li",i.livemenu).on(i.touch_start,function(i){var n=e(this),s=n.data("number"),t=n.parents(".lm-sub").find("> li:eq("+s+")");n.is(".lm-submenu-active")?"_blank"==link_target?window.open(link_url,"_blank"):window.location=link_url:(i.preventDefault(),i.stopPropagation(),n.parent().find(".lm-submenu-active").removeClass("lm-submenu-active"),n.addClass("lm-submenu-active"),t.parents(".lm-sub").find("> li").stop(!0,!0).css("display","none"),t.stop(!0,!0).css("display","inline-block"))})},click_outside_listener:function(){var i=this;return i.config.click_outside?(i.log("Click Outside Listener Started"),void e(document).on(i.touch_start,"*",function(n){n.stopPropagation();var s=e(this);s.parents(".livemenu-wrap").length||(i.log("Click or Touch Outside"),e(".lm-submenu-active",i.livemenu).each(function(){var n=(e(this),e(this).find("> .lm-sub"));i.handle_animation({target:n,animation:i.config.jquery_animation,speed:i.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.removeClass("lm-submenu-active"),i.parents(".lm-item-dropdowns").length&&i.find(".lm-sub").each(function(){e(this).hide(),e(this).parent().removeClass("lm-submenu-active")})},reverse:!0})}))})):!1},handle_link:function(e,i,n){var s=e,t=s.find("> a"),a=t.text(),l=t.attr("href"),o=t.attr("target");return s.is(".lm-submenu-active")?("_blank"==o?window.open(l,"_blank"):window.location=l,!1):(n.log("Link Prevented: "+a),!0)},handle_animation:function(i){if("show"==i.animation||"none"==i.animation)return i.reverse?i.target.stop(!0,!0).hide(i.speed,i.callback):i.target.stop(!0,!0).show(i.speed,i.callback);if("fade"==i.animation)return i.reverse?i.target.stop(!0,!0).fadeOut(i.speed,i.callback):i.target.stop(!0,!0).fadeIn(i.speed,i.callback);if("slide"==i.animation)return i.reverse?i.target.stop(!0,!0).slideUp(i.speed,i.callback):i.target.stop(!0,!0).slideDown(i.speed,i.callback);if("fadeSlideUp"==i.animation){var n=parseInt(i.target.css("top"));return i.reverse?i.target.stop(!0,!0).animate({top:"+=20",opacity:0},i.speed,function(){i.callback(),e(this).css({display:"none",top:"",opacity:"1"}),e(this).parent().removeClass("lm-submenu-active")}):i.target.stop(!0,!0).css({display:"block",opacity:"0",top:n+20+"px"}).animate({top:"-=20",opacity:1},i.speed,i.callback)}},responsive_build:function(){var i=this;i.livemenu.children(".livemenu").hide(),i.livemenu.addClass("livemenu-responsive"),0==e(".lm-item-responsive-socialmedia").length&&(i.livemenu.children(".livemenu").append('<li class="lm-item lm-item-responsive-socialmedia"></li>'),e(".lm-item.lm-item-socialmedia").each(function(){e(".lm-item-responsive-socialmedia").append(e(this).find("> a").clone())}))},responsive_toggle:function(){var i=this;e(".livemenu-responsive-controls > .era-icon",i.livemenu).on(i.touch_start,function(){e(this).parents(".livemenu-responsive").is(".livemenu-responsive-open")?e(this).parents(".livemenu-responsive").removeClass("livemenu-responsive-open").children(".livemenu").fadeOut(i.config.jquery_time):e(this).parents(".livemenu-responsive").addClass("livemenu-responsive-open").children(".livemenu").fadeIn(i.config.jquery_time)})},responsive_links_listener:function(){var i=this;e(".lm-item.lm-has-submenu > a, .lm-item-dropdowns .lm-sub-item.lm-has-submenu > a, .lm-item-posts .lm-sub-item.lm-has-submenu > a",i.livemenu).on(i.touch_start,function(n){n.preventDefault(),n.stopPropagation();var s=e(this).parent(),t=s.find("> .lm-sub"),a=i.handle_link(s,n,i);a&&i.handle_animation({target:t,animation:"slide",speed:i.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.addClass("lm-submenu-active"),n.find("> a .lm-responsive-links-arrow").removeClass("lm-arrow-down").addClass("lm-arrow-up")},reverse:!1})}),e(".lm-responsive-links-arrow",i.livemenu).on(i.touch_start,function(n){if(!e(this).is(".lm-arrow-down")){n.preventDefault(),n.stopPropagation();var s=e(this),t=s.parents(".era-icon").parent().parent(),a=t.find("> .lm-sub");i.handle_animation({target:a,animation:"slide",speed:i.config.jquery_time,callback:function(){var i=e(this),n=i.parent();n.removeClass("lm-submenu-active"),n.find("> a .lm-responsive-links-arrow").removeClass("lm-arrow-up").addClass("lm-arrow-down")},reverse:!0})}})}},e.fn.livemenu=function(e){return new n(this,e),this}}(jQuery);